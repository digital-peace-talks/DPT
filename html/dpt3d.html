<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

	<title>Digital Peace Talks</title>

	<!-- Babylon.js -->
<!--
	<script src="https://code.jquery.com/pep/0.4.3/pep.js"></script>
-->
	<script src="/external/pep.js"></script>

	<!--
	<script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.2/dat.gui.min.js"></script>
	<script src="https://preview.babylonjs.com/ammo.js"></script>
	<script src="https://preview.babylonjs.com/cannon.js"></script>
	<script src="https://preview.babylonjs.com/Oimo.js"></script>
	<script src="https://preview.babylonjs.com/gltf_validator.js"></script>
	<script src="https://preview.babylonjs.com/earcut.min.js"></script>
	<script src="https://preview.babylonjs.com/inspector/babylon.inspector.bundle.js"></script>
	<script src="https://preview.babylonjs.com/materialsLibrary/babylonjs.materials.min.js"></script>
	<script src="https://preview.babylonjs.com/proceduralTexturesLibrary/babylonjs.proceduralTextures.min.js"></script>
	-->

<!--
	<script src="https://preview.babylonjs.com/babylon.js"></script>
	<script src="https://preview.babylonjs.com/materialsLibrary/babylonjs.materials.min.js"></script>
-->
	<script src="/external/babylon.js"></script>
	<script src="/external/babylonjs.materials.min.js"></script>

	<!--
	<script src="https://preview.babylonjs.com/postProcessesLibrary/babylonjs.postProcess.min.js"></script>
	<script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.min.js"/>
	-->

<!--
	<script src="https://preview.babylonjs.com/serializers/babylonjs.serializers.min.js"></script>
	<script src="https://preview.babylonjs.com/gui/babylon.gui.min.js"></script>
-->
	<script src="/external/babylonjs.serializers.min.js"></script>
	<script src="/external/babylon.gui.min.js"></script>

	<link rel="stylesheet" href="/dpt_classic.css" />
	<script>
		// Testpage for different Browsers
		// http://www.quirksmode.org/m/tests/widthtest_vpdevice.html
		/* 
		function fixZoom() {
			var relation = 100 / window.devicePixelRatio;
			document.body.style.MozTransform = 'scale(' + relation / 100 + ')';
			document.body.style.zoom = relation + '%';

			document.body.style.webkitTransform = 'scale(' + relation / 100 + ')'; // Chrome, Opera, Safari
			document.body.style.msTransform = 'scale(' + relation / 100 + ')'; // IE 9
			document.body.style.transform = 'scale(' + relation / 100 + ')'; // General

			jQuery('body').offset({ top: 0, left: 0 });

			document.getElementById('status').innerHTML = Math.round(window.devicePixelRatio * 100);
		}
		*/
	</script>
	<!-- Startup configuration -->
	<link rel="manifest" href="manifest.webmanifest">

	<!-- Fallback application metadata for legacy browsers -->
	<meta name="application-name" content="DPT">
	<!-- icon in the highest resolution we need it for -->
	<link rel="icon" sizes="16x16 32x32 48x48" href="icons/icon-72x72.png">
	<link rel="icon" sizes="512x512" href="icons/icon-512x512.png">

	<!-- multiple icons for Safari -->
    <link rel="apple-touch-icon" href="icons/touch-icon-iphone.png">
    <link rel="apple-touch-icon" sizes="152x152" href="icons/touch-icon-ipad.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/touch-icon-iphone-retina.png">
    <link rel="apple-touch-icon" sizes="167x167" href="icons/touch-icon-ipad-retina.png">
    <!-- splash scree icon for Apple -->
	<link rel="apple-touch-startup-image" href="icons/ios-icon.png">

	<!-- multiple icons for IE -->
	<meta name="msapplication-square70x70logo" content="icons/icon-72x72.png">
	<meta name="msapplication-square150x150logo" content="icons/icon-144x144.png">
	<meta name="msapplication-wide310x150logo" content="icons/icon-192x192.png">
	<meta name="msapplication-square310x310logo" content="icon_largetile.png">

	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#28A9E1">

	<!-- change the status bar appearance on ios-->
	<meta name="apple-mobile-web-app-status-bar" content="#28A9E1">
	<meta name="apple-mobile-web-app-capable" content="yes">

</head>


<body>

	<div id="overlay">
		<nav>
			<div class="brand">
				<a href=""><img src="dpt_logo.png" alt="digital peace talks" /></a>
			</div>
			<a href="#nav-m" id="nav-m"><img src="/button_menu.png" alt="" /></a>
			<a href="#" class="close"><img src="/button_close.png" alt="" /></a>
			<ul class="menu">
				<li><button class="menu-btn" id="about-btn"><img class= "btn-icon"src="/home_white.png" >About</button></li>
				<li><button class="menu-btn" id="firststeps-btn"><img class= "btn-icon"src="/help_white.png" >First Steps</button></li>
				<li><button class="menu-btn" id="documentation-btn"><img class= "btn-icon"src="/help_white.png" >Documentation</button></li>
				<li><button class="menu-btn" id="survey-btn"><img class= "btn-icon"src="/survey_white.png" >Survey</button></li>
				<li><button class="menu-btn" id="imprint-btn"><img class= "btn-icon"src="/home_white.png" >Imprint</button></li>
				<li><button class="menu-btn" id="settings-btn"><img class= "btn-icon"src="/home_white.png" >Settings</button></li>
			</ul>
		</nav>
	</div>

	<div id="menubar">
		<section>
			<ul class="menu">
				<li><button class="menu-btn-bar" id="home-btn"><img class="btn-bar-icon"src="/home_white.png" ></button></li>
				<li><button class="menu-btn-bar" id="search-btn"><img class="btn-bar-icon"src="/search.png" ></button></li>
				<li><button class="menu-btn-bar" id="new-topic-btn"><img class="btn-bar-icon" ></button></li>
				<li><button class="menu-btn-bar" id="new-opinion-btn"><img class="btn-bar-icon" ></button></li>
				<li><button class="menu-btn-bar" id="dialogues-btn"><img class="btn-bar-icon" src="/1message_white.png"><span id="dialog-btn-label"></span></button></li>
			</ul>
		</section>
	</div>

	<canvas id="renderCanvas" tabindex="1"></canvas>

	<div id="misc"></div>
	<div id="misc2"></div>
	<script>
		if('serviceWorker' in navigator) {
			window.addEventListener('load', function() {
				navigator.serviceWorker.register('/sw.js')
				.then(function(registration) {
					// Registration was successful
					console.log('ServiceWorker registration successful with scope: ', registration.scope);
				}, function(err) {
					// registration failed :(
					console.log('ServiceWorker registration failed: ', err);
				});
			});
		}
		/*
		if('serviceWorker' in navigator) {
			navigator.serviceWorker.register('/sw.js')
			.then((reg) => console.log('service worker registered', reg))
			.catch((err) => console.log('service worker not registered'), err));
		}
		*/
	</script>
</body>

<!--
<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
-->

<!--
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
-->
<script src="/external/socket.io.js"></script>
<script src="/external/jquery-1.11.1.js"></script>

<!--
<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
-->

<!--	<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js"></script> -->

<script src="dpt3d.js"></script>
<script src="babylon-main.js"></script>
<script src="dpt-client.js"></script>
<script src="babylon-misc.js"></script>
<script src="babylon-topics.js"></script>
<script src="babylon-opinions.js"></script>
<script src="html-forms.js"></script>
<script src="dialog.js"></script>


</html>